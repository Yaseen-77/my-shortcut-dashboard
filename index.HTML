<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Shortcuts</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="dashboard" id="dashboard"></div>

  <div class="popup" id="popup">
    <input type="text" id="name" placeholder="Name" />
    <input type="text" id="link" placeholder="Website URL" />
    <button onclick="addShortcut()">Add</button>
    <button onclick="togglePopup()">Cancel</button>
  </div>

  <script>
    const dashboard = document.getElementById("dashboard");
    const popup = document.getElementById("popup");

    let shortcuts = JSON.parse(localStorage.getItem("shortcuts")) || [];

    function renderShortcuts() {
      dashboard.innerHTML = "";
      shortcuts.forEach((sc, index) => {
        const div = document.createElement("div");
        div.className = "shortcut";
        div.innerHTML = `
          <button class="remove-btn" onclick="removeShortcut(${index})">Ã—</button>
          <a href="${sc.link}" target="_blank">
           <img src="https://www.google.com/s2/favicons?domain=${sc.link}&sz=128" />
            <span>${sc.name}</span>
          </a>
        `;
        dashboard.appendChild(div);
      });

      const addDiv = document.createElement("div");
      addDiv.className = "shortcut add";
      addDiv.innerHTML = `<div class="plus" onclick="togglePopup()">+</div><span>Add shortcut</span>`;
      dashboard.appendChild(addDiv);
    }

    function togglePopup() {
      popup.style.display = popup.style.display === "flex" ? "none" : "flex";
    }

    function addShortcut() {
      const name = document.getElementById("name").value;
      const link = document.getElementById("link").value;
      if (!name || !link) return;
      shortcuts.push({ name, link });
      localStorage.setItem("shortcuts", JSON.stringify(shortcuts));
      togglePopup();
      renderShortcuts();
    }

    function removeShortcut(index) {
      shortcuts.splice(index, 1);
      localStorage.setItem("shortcuts", JSON.stringify(shortcuts));
      renderShortcuts();
    }

    renderShortcuts();
  </script>
</body>
</html>
